<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="en-au" http-equiv="Content-Language" />
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
		<link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Blog Feed" />
		<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Blog Feed" />

		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<title>To debug in production with MDBG</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="shortcut icon" href="/img/favicon.ico" />
	</head>
	<body>
		<div id="container">
			<div id="side">
				<div id="hometext"><a href="/" >Weple's Blog</a>
				</div>
				<a href="/" id="home" title="home" alt="home"><img src="/img/logo.png" alt="Site Name" /></a>
				<div class="PersonalTitle">About me</div>
				<div class="sectionPersonal">
					<ul>
						<li>Graduate in 2005 of CUMT</li>
						<li>Focus on MS domain(.net)</li>
						<li>Learning new technology(Golang..)</li>
					</ul>
				</div>
				<div class="PersonalTitle">Contact me</div>
				<div class="sectionPersonal">
					<ul>
						<li>Email: <a href=mailto:weple@qq.com>weple@qq.com</a></li>
					</ul>
				</div>
				<div class="section">
					<ul>
						<li><a href="/about.html">about</a></li>
						<li><a href="/rss.xml"><img src="/img/25.png" /> feed</a></li>
					</ul>
				</div>
			</div>
			<div id="content">
				<div class="entry-container">
	<div class='entry'>
		<h1> To debug in production with MDBG </h1>
		<span class="postdate">28 April, 2015
			
		</span>
		<p>Even now I still heard some company using remote debug or install VS in production. This is really a very bad behavior. And this is one solution to debug in production.</p>
<p>Location: #InstallDir#\Microsoft Visual Studio 8\SDK\v2.0\Bin</p>
<p>Steps:</p>
<ol>
<li>
<p>Copy the full folder to production</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG1.png?raw=true" /></p>
</li>
<li>
<p>Open Mdbg</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG2.png?raw=true" /></p>
</li>
<li>
<p>To learn a tool or a new language, the most important things is to learn the help</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG3.png?raw=true" /></p>
</li>
<li>
<p>For now it is very easy to do anything you wanted, and this is an example of using Mdbg.</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG4.png?raw=true" /></p>
</li>
<li>
<p>Once I click button &quot;button1&quot;, it will throw an exception, let's see what's going on in mdbg.</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG5.png?raw=true" /></p>
<p>It told us the exception is in method WinDBGT1.TestException.GetException of line 11.</p>
</li>
<li>
<p>Now if show lines even with source in the folder, still show the error</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG6.png?raw=true" /></p>
</li>
<li>
<p>Again rerun the exe with pdb file(assume you understand the pdb file is symbol file) and command sh</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG7.png?raw=true" /></p>
</li>
<li>
<p>Almost done, except the pdb location is changed after move to production. So you can change the pdb location path or change the file path.</p>
<p><img src="https://github.com/pucumt/pucumt.github.io/blob/master/Images/MDBG8.png?raw=true" /></p>
</li>
<li>
<p>Actually there are a lot of functions in Mdbg, for example to create and read dump, so no need to debug in production, just get the dump to check all issues.</p>
</li>
</ol>
<p>And here is the link of msdn with Mdbg: https://msdn.microsoft.com/en-us/library/ms229861.aspx</p>

	</div>
</div>
<div id="page-navigation"> 
	<div class="left">  </div> 
	<div class="right">  </div> 
	<div class="clear">&nbsp;</div>
</div> 



			</div>

		</div>
	</body>
</html>